{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'sponsor_home',\n  data() {\n    return {\n      campaigns: [],\n      token: null,\n      roles: []\n    };\n  },\n  methods: {\n    getCampaigns() {\n      const path = 'http://127.0.0.1:5000/api/CampaignResource';\n      axios.get(path, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status == 200) {\n          this.campaigns = response.data.data;\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    logoutfn() {\n      localStorage.clear();\n      this.$router.push('/');\n    }\n  },\n  created() {\n    this.token = localStorage.getItem('authToken');\n    if (!this.token) {\n      this.$router.push('/');\n    }\n    this.roles = localStorage.getItem('roles');\n    this.getCampaigns();\n  }\n};","map":{"version":3,"names":["axios","name","data","campaigns","token","roles","methods","getCampaigns","path","get","headers","Authorization","then","response","console","log","status","catch","error","logoutfn","localStorage","clear","$router","push","created","getItem"],"sources":["/Users/meena/Documents/learning/annamalai/Azure Test App/Collaboration-Hub-Web-Application/frontend/src/components/campaign_home.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"container mt-5\">\n        <h2>Campaign Details</h2>\n        <p><router-link  class=\"btn btn-primary\" :to=\"{name: 'create_campaign'}\">Create New Campaign</router-link> </p>\n      </div>\n\n      <div class=\"container mt-5 mb-5\">\n          <div class=\"row row-cols-4 row-cols-md-8 g-4 mb-4\">\n            <div v-for=\"(cam, index) in campaigns\" :key=\"index\">\n                <div class=\"row justify-content-center mt-4 mb-4\"> \n                  <div class=\"card\"  style=\"width: 18rem;\" >\n                    <h3 class=\"card-header\">{{cam.cam_name }}</h3>\n                        <div class=\"card-body\">\n                          <p class=\"card-text\">This campaign is to {{ cam.cam_desc }}.</p>\n                          <router-link  class=\"btn btn-primary\" :to=\"{name: 'viewCampaignDetail', params: {cam_id: cam['cam_id']}}\">View</router-link> \n                        </div>  \n                  </div>\n            </div>\n          </div>\n      </div>\n    </div>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\n\nexport default {\n    name: 'sponsor_home',\n  data() {\n    return {\n      campaigns: [],\n      token: null,\n      roles:[],\n        }\n  },\n  methods: {\n\n  getCampaigns() {\n      const path = 'http://127.0.0.1:5000/api/CampaignResource';\n      axios\n      .get(path,\n            {headers: {Authorization: `${this.token}`}})\n      .then((response) => {\n        console.log(\"response block\", response)\n        if (response.status == 200) {\n            this.campaigns = response.data.data;\n        }\n          \n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    logoutfn(){\n        localStorage.clear()\n        this.$router.push('/')\n      },\n  },\n\n  created() {\n    this.token = localStorage.getItem('authToken');\n    if (!this.token) {\n        this.$router.push('/')\n    }\n    this.roles = localStorage.getItem('roles');\n\n    this.getCampaigns() ;\n  },\n\n}\n</script>\n<style lang=\"\">\n    \n</style>"],"mappings":"AAyBA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACXC,IAAI,EAAE,cAAc;EACtBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,KAAK,EAAE,IAAI;MACXC,KAAK,EAAC;IACJ;EACN,CAAC;EACDC,OAAO,EAAE;IAETC,YAAYA,CAAA,EAAG;MACX,MAAMC,IAAG,GAAI,4CAA4C;MACzDR,KAAI,CACHS,GAAG,CAACD,IAAI,EACH;QAACE,OAAO,EAAE;UAACC,aAAa,EAAE,GAAG,IAAI,CAACP,KAAK;QAAE;MAAC,CAAC,EAChDQ,IAAI,CAAEC,QAAQ,IAAK;QAClBC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,QAAQ;QACtC,IAAIA,QAAQ,CAACG,MAAK,IAAK,GAAG,EAAE;UACxB,IAAI,CAACb,SAAQ,GAAIU,QAAQ,CAACX,IAAI,CAACA,IAAI;QACvC;MAEA,CAAC,EACAe,KAAK,CAAEC,KAAK,IAAK;QAChBJ,OAAO,CAACI,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACN,CAAC;IACDC,QAAQA,CAAA,EAAE;MACNC,YAAY,CAACC,KAAK,CAAC;MACnB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG;IACvB;EACJ,CAAC;EAEDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACpB,KAAI,GAAIgB,YAAY,CAACK,OAAO,CAAC,WAAW,CAAC;IAC9C,IAAI,CAAC,IAAI,CAACrB,KAAK,EAAE;MACb,IAAI,CAACkB,OAAO,CAACC,IAAI,CAAC,GAAG;IACzB;IACA,IAAI,CAAClB,KAAI,GAAIe,YAAY,CAACK,OAAO,CAAC,OAAO,CAAC;IAE1C,IAAI,CAAClB,YAAY,CAAC;EACpB;AAEF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}