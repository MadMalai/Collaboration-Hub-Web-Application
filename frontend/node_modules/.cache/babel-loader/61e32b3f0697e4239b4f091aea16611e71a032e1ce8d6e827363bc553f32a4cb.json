{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'admin_find',\n  data() {\n    return {\n      cam_list: [],\n      flagged_inf: [],\n      flagged_spon: [],\n      flagged_cam: [],\n      token: null,\n      roles: [],\n      deactivated_users: []\n    };\n  },\n  methods: {\n    getUsers() {\n      const path = 'http://127.0.0.1:5000/api/activateManager';\n      axios.get(path, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(res => {\n        this.deactivated_users = res.data.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    activate(id) {\n      const path = 'http://127.0.0.1:5000/api/activateManager';\n      axios.post(path, {\n        \"id\": id\n      }, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(res => {\n        this.campaigns = res.data.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    getAdminHomeDetails() {\n      const path = 'http://127.0.0.1:5000/api/AdminHomeDetails';\n      axios.get(path, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status == 200) {\n          this.cam_list = response.data.cam_list;\n          this.flagged_inf = response.data.flagged_inf;\n          this.flagged_spon = response.data.flagged_spon;\n          this.flagged_cam = response.data.flagged_cam;\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    unFlagCampaign(id) {\n      const path = 'http://127.0.0.1:5000/api/AdminUnFlagUser';\n      axios.put(path, {\n        \"objecttype\": \"1\",\n        \"objectid\": id\n      }, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status == 200) {}\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    unFlagSponsor(id) {\n      const path = 'http://127.0.0.1:5000/api/AdminUnFlagUser';\n      axios.put(path, {\n        \"objecttype\": \"2\",\n        \"objectid\": id\n      }, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status == 200) {}\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    unFlagInfluencer(id) {\n      const path = 'http://127.0.0.1:5000/api/AdminUnFlagUser';\n      axios.put(path, {\n        \"objecttype\": \"3\",\n        \"objectid\": id\n      }, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status == 200) {}\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    logoutfn() {\n      localStorage.clear();\n      this.$router.push('/');\n    }\n  },\n  created() {\n    this.token = localStorage.getItem('authToken');\n    if (!this.token) {\n      this.$router.push('/');\n    }\n    this.roles = localStorage.getItem('roles');\n    this.getAdminHomeDetails();\n    this.getUsers();\n  }\n};","map":{"version":3,"names":["axios","name","data","cam_list","flagged_inf","flagged_spon","flagged_cam","token","roles","deactivated_users","methods","getUsers","path","get","headers","Authorization","then","res","catch","error","console","activate","id","post","campaigns","getAdminHomeDetails","response","log","status","unFlagCampaign","put","unFlagSponsor","unFlagInfluencer","logoutfn","localStorage","clear","$router","push","created","getItem"],"sources":["/Users/meena/Documents/learning/annamalai/Azure Test App/Collaboration-Hub-Web-Application/frontend/src/components/admin_home.vue"],"sourcesContent":["<template>\n  <div>\n      <div class=\"mt-4\"></div>\n      <h3> Welcome Admin! </h3>\n      <div class=\"mb-4\"></div>\n\n      <h5><b>Activate Users</b></h5>\n\n      <div v-for=\"(usr, index) in deactivated_users\" :key=\"index\">\n\n      <div class=\"row\">\n          <div class=\"col-md-*\">\n              <div class=\"card\">\n                  <div class=\"card-body d-flex justify-content-between align-items-center\">\n                      <div class=\"card-title\"><b>User Details {{ usr['id'] }} </b> | {{ usr.email }}</div>\n                      <button class=\"btn btn-danger\" @click=\"activate( usr['id'])\">Activate</button> \n                  </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <br>\n        <br>\n\n\n      <h5>Active Campaigns</h5> \n      <div class=\"mb-4\"></div>\n      <div class=\"container mt-4\">\n          <div class=\"row\">\n          <div \n              v-for=\"(campaign, index) in cam_list\" \n              :key=\"index\" \n              class=\"col-md-*\">\n              <!-- Card -->\n              <div class=\"card\">\n              <div class=\"card-body d-flex justify-content-between align-items-center\">\n                  <h5 class=\"card-title\">\n                  Campaign {{ campaign.cam_id }} | {{ campaign.cam_name }} | Progress {{ campaign.progress }} %\n                  </h5>\n                  <router-link \n                  class=\"btn btn-primary\" \n                  :to=\"{name: 'viewCampaignDetail', params: {cam_id: campaign['cam_id']}}\">\n                  View\n                  </router-link>\n              </div>\n              </div>\n          </div>\n          </div>\n      </div>\n  </div>\n\n    <h5><b>List of Flagged Users / Campaigns</b></h5>\n\n    <div class=\"container mt-4\">\n      <!-- Influencers -->\n      <div class=\"row\">\n        <div v-for=\"(inf, index) in flagged_inf\" :key=\"index\" class=\"col-md-*\">\n          <div class=\"card\">\n            <div class=\"card-body d-flex justify-content-between align-items-center\">\n              <h5 class=\"card-title\">Influencer Name: {{ inf.i_name }} | {{ inf.i_link }}</h5>\n              <div>\n               <router-link  class=\"btn btn-primary\" :to=\"{name: 'influencer_profile_with_id', params: {id: inf.i_id}}\">View</router-link> \n\n                <td>\n                <button class=\"btn btn-danger\" @click=\"unFlagInfluencer(inf.i_id)\" >Unflag</button>\n                </td>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Sponsors -->\n      <div class=\"row\">\n        <div v-for=\"(spon, index) in flagged_spon\" :key=\"index\" class=\"col-md-*\">\n          <div class=\"card\">\n            <div class=\"card-body d-flex justify-content-between align-items-center\">\n              <h5 class=\"card-title\">Sponsor Name: {{ spon.s_name }} | {{ spon.org_name }}</h5>\n              <div>\n                <router-link  class=\"btn btn-primary\" :to=\"{name: 'sponsor_profile_with_id', params: {id: spon.s_id}}\">View</router-link> \n\n                <!-- <router-link \n                  class=\"btn btn-primary\" \n                  :to=\"{name: 'adminViewProfileDetails', params: { usertype, userid, id: spon.s_id, type: 2 }}\">\n                  View\n                </router-link> -->\n                <td>\n                <button class=\"btn btn-danger\" @click=\"unFlagSponsor(spon.s_id)\" >Unflag</button>\n                </td\n                </router-link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Campaigns -->\n      <div class=\"row\">\n        <div v-for=\"(cam, index) in flagged_cam\" :key=\"index\" class=\"col-md-*\">\n          <div class=\"card\">\n            <div class=\"card-body d-flex justify-content-between align-items-center\">\n              <h5 class=\"card-title\">Campaign Name: {{ cam.cam_name }} | {{ cam.cam_category }}</h5>\n              <div>\n                <router-link \n                  class=\"btn btn-primary\" \n                  :to=\"{name: 'viewCampaignDetail', params: {cam_id: cam.cam_id }}\">\n                  View\n                </router-link>\n                <td>\n                <button class=\"btn btn-danger\" @click=\"unFlagCampaign(cam.cam_id)\" >Unflag</button>\n                </td\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'admin_find',\ndata() {\n  return {\n    cam_list: [],\n    flagged_inf: [],\n    flagged_spon: [],\n    flagged_cam: [],\n    token: null,\n    roles:[] ,\n    deactivated_users:[],    \n      }\n},\nmethods: {\n  getUsers() {\n      const path = 'http://127.0.0.1:5000/api/activateManager';\n      axios.get(path,{headers: {Authorization: `${this.token}`}})\n        .then((res) => {\n          this.deactivated_users = res.data.data;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n\n    activate(id) {\n      const path = 'http://127.0.0.1:5000/api/activateManager';\n      axios.post(path,{\"id\":id},{headers: {Authorization: `${this.token}`}})\n        .then((res) => {\n          this.campaigns = res.data.data;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n\ngetAdminHomeDetails() {\n    const path = 'http://127.0.0.1:5000/api/AdminHomeDetails';\n    axios\n    .get(path,\n          {headers: {Authorization: `${this.token}`}})\n    .then((response) => {\n      console.log(\"response block\", response)\n      if (response.status == 200) {\n          this.cam_list = response.data.cam_list;\n          this.flagged_inf = response.data.flagged_inf;\n          this.flagged_spon = response.data.flagged_spon;\n          this.flagged_cam = response.data.flagged_cam;\n      }         \n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  }, \n  unFlagCampaign(id){\n      const path = 'http://127.0.0.1:5000/api/AdminUnFlagUser';\n    axios\n    .put(path,{\"objecttype\":\"1\" ,\"objectid\":id },\n          {headers: {Authorization: `${this.token}`}})\n    .then((response) => {\n      console.log(\"response block\", response)\n      if (response.status == 200) {\n\n      }         \n      })\n      .catch((error) => {\n        console.error(error);\n      });        \n  },\n  unFlagSponsor(id){\n      const path = 'http://127.0.0.1:5000/api/AdminUnFlagUser';\n    axios\n    .put(path,{\"objecttype\":\"2\" ,\"objectid\":id },\n          {headers: {Authorization: `${this.token}`}})\n    .then((response) => {\n      console.log(\"response block\", response)\n      if (response.status == 200) {\n      }         \n      })\n      .catch((error) => {\n        console.error(error);\n      });        \n  },\n  unFlagInfluencer(id){\n      const path = 'http://127.0.0.1:5000/api/AdminUnFlagUser';\n    axios\n    .put(path,{\"objecttype\":\"3\" ,\"objectid\":id },\n          {headers: {Authorization: `${this.token}`}})\n    .then((response) => {\n      console.log(\"response block\", response)\n      if (response.status == 200) {\n\n      }         \n      })\n      .catch((error) => {\n        console.error(error);\n      });        \n  },      \n  logoutfn(){\n      localStorage.clear()\n      this.$router.push('/')\n    },\n  },\n\ncreated() {\n  this.token = localStorage.getItem('authToken');\n  if (!this.token) {\n      this.$router.push('/')\n  }\n  this.roles = localStorage.getItem('roles');\n\n  this.getAdminHomeDetails() ;\n  this.getUsers();\n\n},\n\n\n\n}\n</script>\n<style lang=\"\">\n  \n</style>\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}