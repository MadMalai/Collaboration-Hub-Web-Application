{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'viewCampaignDetails',\n  data() {\n    return {\n      campaign_details: [],\n      token: null,\n      roles: [],\n      id: null,\n      ad_details: []\n    };\n  },\n  methods: {\n    viewCampaigns() {\n      axios.get(`http://127.0.0.1:5000/api/CampaignSpecific/${this.id}`, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status == 200) {\n          this.campaign_details = response.data.data;\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    viewAds() {\n      axios.get(`http://127.0.0.1:5000/api/AdResource/${this.id}`, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status == 200) {\n          this.ad_details = response.data.data;\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    logoutfn() {\n      localStorage.clear();\n      this.$router.push('/');\n    },\n    deleteCampaign() {\n      axios.delete(`http://127.0.0.1:5000/api/CampaignSpecific/${this.id}`, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status == 201) {\n          this.$router.push('/campaign_home');\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    deleteAd(ad_id) {\n      axios.delete(`http://127.0.0.1:5000/api/AdSpecific/${ad_id}`, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status == 201) {\n          this.$router.push({\n            name: 'viewCampaignDetail',\n            params: {\n              cam_id: this.id\n            }\n          });\n          location.reload();\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n  },\n  created() {\n    this.token = localStorage.getItem('authToken');\n    this.id = this.$route.params.cam_id;\n    if (!this.token) {\n      this.$router.push('/');\n    }\n    this.roles = localStorage.getItem('roles');\n    this.viewCampaigns();\n    this.viewAds();\n  }\n};","map":{"version":3,"names":["axios","name","data","campaign_details","token","roles","id","ad_details","methods","viewCampaigns","get","headers","Authorization","then","response","console","log","status","catch","error","viewAds","logoutfn","localStorage","clear","$router","push","deleteCampaign","delete","deleteAd","ad_id","params","cam_id","location","reload","created","getItem","$route"],"sources":["/Users/meena/Documents/learning/annamalai/Azure Test App/Collaboration-Hub-Web-Application/frontend/src/components/viewCampaignDetail.vue"],"sourcesContent":["<template>\n<div class=\"container mt-5\">\n    <div class=\"row justify-content-center\">\n        <div v-for=\"(cam, index) in campaign_details\" :key=\"index\">\n            <!-- Card 1 -->\n            <div class=\"col-md-*\">\n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        <h2>Campaign Details</h2>\n                    </div>\n                    <div class=\"card-body d-flex justify-content-between align-items-center\">\n                        <div class=\"card-body\">\n                            <p class=\"card-text\"><b>Campaign Name:</b> {{ cam['cam_name'] }}</p>\n                            <p class=\"card-text\"><b>Descrption:</b> {{ cam['cam_desc'] }}</p>\n                            <p class=\"card-text\"><b>Category:</b> {{ cam['cam_category'] }}</p>\n                            <p class=\"card-text\"><b>Start Date:</b> {{ cam['cam_start_date'] }}</p>\n                            <p class=\"card-text\"><b>End Date:</b> {{ cam['cam_end_date'] }}</p>\n                            <p class=\"card-text\"><b>Budget:</b> {{ cam['cam_budget'] }}</p>\n                            <p class=\"card-text\"><b>Goals:</b> {{ cam['goals'] }}</p>\n                            <p class=\"card-text\"><b>Visibility:</b> {{ cam['visibility'] }}</p>\n                            <p v-if=\"this.roles=='sponsor'\">\n                            <router-link  class=\"btn btn-primary\" :to=\"{name: 'create_ad', params: {cam_id: cam['cam_id']}}\">Create Ad</router-link> \n                            <router-link  class=\"btn btn-primary\" :to=\"{name: 'edit_campaign', params: {cam_id: cam['cam_id']}}\">Edit Campaign</router-link> \n                            <button class=\"btn btn-danger\" @click=\"deleteCampaign\">Delete Campaign</button> \n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<br>\n\n<br>\n    <div class=\"container mt-4 mb-4\">\n        <h3>Ads created for the Campaign</h3>\n        <br>\n\n        <div class=\"row row-cols-4 row-cols-md-8 g-8 mb-4 justify-content-center\">\n            <div v-for=\"(ad, index) in ad_details\" :key=\"index\">\n                <div class=\"card\" style=\"height: 100%\"   >\n                    <div class=\"card-header\" style=\"height: 75px\"><b>{{ ad['ad_name'] }}</b></div>\n                    <div class=\"card-body\">\n                        <p class=\"card-text\">Ad Requirement: {{ ad['ad_req'] }}</p>\n                        <p class=\"card-text\">Ad Terms: {{ ad['terms'] }}</p>\n                        <p class=\"card-text\">Ad Budget: {{ ad['ad_budget'] }}</p>\n                        <p class=\"card-text\">Ad Status: {{ ad['status'] }}</p>\n                        <p class=\"card-text\">Preferred Influencer Category: {{ ad['pref_inf_category'] }}</p>\n                        <div class=\"mb-6\">\n                            <p v-if=\"this.roles=='sponsor'\">\n                        <router-link  class=\"btn btn-primary\" :to=\"{name: 'edit_ad', params: {ad_id: ad['ad_id']}}\">Edit Ad Details</router-link> \n                        <button class=\"btn btn-danger\" @click=\"deleteAd(ad['ad_id'])\">Delete Ad</button> \n                        </p>\n                        </div>\n\n                    </div>\n            </div>    \n        </div>\n    </div>    \n    </div>\n\n\n\n</template>\n<script>\nimport axios from 'axios';\n\nexport default {\n\n  name: 'viewCampaignDetails',\n  data() {\n    return {\n      campaign_details: [],\n      token: null,\n      roles:[],\n      id:null,\n      ad_details: []\n        }\n  },\n  methods: {\n\n    viewCampaigns() {\n        axios\n        .get(`http://127.0.0.1:5000/api/CampaignSpecific/${this.id}`,\n                {headers: {Authorization: `${this.token}`}})\n        .then((response) => {\n            console.log(\"response block\", response)\n            if (response.status == 200) {\n                this.campaign_details = response.data.data\n            }\n            })\n            .catch((error) => {\n            console.error(error);\n            });\n        },\n    viewAds() {\n        axios\n        .get(`http://127.0.0.1:5000/api/AdResource/${this.id}`,\n        {headers: {Authorization: `${this.token}`}}\n        )\n        .then((response) => {\n        console.log(\"response block\", response)\n        if (response.status == 200) {\n            this.ad_details = response.data.data;\n        }\n            \n        })\n        .catch((error) => {\n            console.error(error);\n        });\n    },\n    logoutfn(){\n            localStorage.clear()\n            this.$router.push('/')\n        },\n    deleteCampaign(){\n        axios\n        .delete(`http://127.0.0.1:5000/api/CampaignSpecific/${this.id}`,\n        {headers: {Authorization: `${this.token}`}}\n        )\n        .then((response) => {\n        console.log(\"response block\", response)\n        if (response.status == 201) {\n            this.$router.push('/campaign_home')\n        }\n            \n        })\n        .catch((error) => {\n            console.error(error);\n        });\n    },\n    deleteAd(ad_id){\n        axios\n        .delete(`http://127.0.0.1:5000/api/AdSpecific/${ad_id}`,\n        {headers: {Authorization: `${this.token}`}}\n        )\n        .then((response) => {\n        console.log(\"response block\", response)\n        if (response.status == 201) {\n            this.$router.push({\n                    name: 'viewCampaignDetail', \n                    params:{cam_id: this.id}\n                });\n                location.reload();\n            }\n            \n        })\n        .catch((error) => {\n            console.error(error);\n        });\n    }\n\n},\n    created() {\n            this.token = localStorage.getItem('authToken');\n            this.id = this.$route.params.cam_id;\n\n            if (!this.token) {\n                this.$router.push('/')\n            }\n            this.roles = localStorage.getItem('roles');\n\n            this.viewCampaigns() ;\n            this.viewAds() ;\n\n        },\n}\n</script>\n<style lang=\"\">\n    \n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}