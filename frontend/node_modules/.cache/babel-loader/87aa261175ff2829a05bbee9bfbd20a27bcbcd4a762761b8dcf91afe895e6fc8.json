{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'sponsor_home',\n  data() {\n    return {\n      campaigns: [],\n      token: null,\n      roles: [],\n      search: ''\n    };\n  },\n  methods: {\n    getCampaigns() {\n      const path = 'http://127.0.0.1:5000/api/CampaignResource';\n      axios.get(path, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status == 200) {\n          this.campaigns = response.data.data;\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    logoutfn() {\n      localStorage.clear();\n      this.$router.push('/');\n    }\n  },\n  computed: {\n    filtereditems() {\n      return this.campaigns.filter(cam => {\n        return cam.cam_desc.indexOf(this.search) > -1;\n      });\n    }\n  },\n  created() {\n    this.roles = localStorage.getItem('roles');\n    this.token = localStorage.getItem('authToken');\n    if (!this.token) {\n      this.$router.push('/');\n    }\n    this.getCampaigns();\n  }\n};","map":{"version":3,"names":["axios","name","data","campaigns","token","roles","search","methods","getCampaigns","path","get","headers","Authorization","then","response","console","log","status","catch","error","logoutfn","localStorage","clear","$router","push","computed","filtereditems","filter","cam","cam_desc","indexOf","created","getItem"],"sources":["/Users/meena/Documents/learning/annamalai/Azure Test App/Collaboration-Hub-Web-Application/frontend/src/components/influencer_find.vue"],"sourcesContent":["<template>\n    <div>\n        <h4>All Public Campaigns</h4>\n    <br>\n     \n    <div class=\"searchtable\">\n    <input type=\"text\" v-model=\"search\">\n\n    <table class=\"table\" style=\"width: 75%;\">\n        <thead>\n            <tr>\n            <th scope=\"col\">Campaign Details</th>\n            <th scope=\"col\">Action </th> \n            </tr>\n        </thead>\n        <tbody>\n                <tr v-for=\"(cam, index) in filtereditems\" :key=\"index\">\n                    <td><b>{{ cam['cam_name'] }} </b> - {{ cam['cam_desc'] }} - <b>Goals:</b> {{ cam['goals'] }}</td>\n                    <td>\n                        <router-link  class=\"btn btn-primary\" :to=\"{name: 'viewCampaignDetail', params: {cam_id: cam['cam_id']}}\">View</router-link> \n                    </td>\n                </tr>\n\n        </tbody>\n    </table>\n    </div>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\n\nexport default {\n    name: 'sponsor_home',\n  data() {\n    return {\n      campaigns: [],\n      token: null,\n      roles:[],\n      search:''\n        }\n  },\n  methods: {\n\n  getCampaigns() {\n      const path = 'http://127.0.0.1:5000/api/CampaignResource';\n      axios\n      .get(path,\n            {headers: {Authorization: `${this.token}`}})\n      .then((response) => {\n        console.log(\"response block\", response)\n        if (response.status == 200) {\n            this.campaigns = response.data.data;\n        }\n          \n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    logoutfn(){\n        localStorage.clear()\n        this.$router.push('/')\n      },\n  },\n  computed:{\n    filtereditems(){\n      return this.campaigns.filter(cam => {\n        return cam.cam_desc.indexOf(this.search) > -1\n    })\n  },\n  },\n\n  created() {\n    this.roles = localStorage.getItem('roles');\n\n    this.token = localStorage.getItem('authToken');\n    if (!this.token) {\n        this.$router.push('/')\n    }\n\n    this.getCampaigns() ;\n  },\n}\n\n\n\n</script>\n<style lang=\"\">\n    \n</style>"],"mappings":"AA6BA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACXC,IAAI,EAAE,cAAc;EACtBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,KAAK,EAAE,IAAI;MACXC,KAAK,EAAC,EAAE;MACRC,MAAM,EAAC;IACL;EACN,CAAC;EACDC,OAAO,EAAE;IAETC,YAAYA,CAAA,EAAG;MACX,MAAMC,IAAG,GAAI,4CAA4C;MACzDT,KAAI,CACHU,GAAG,CAACD,IAAI,EACH;QAACE,OAAO,EAAE;UAACC,aAAa,EAAE,GAAG,IAAI,CAACR,KAAK;QAAE;MAAC,CAAC,EAChDS,IAAI,CAAEC,QAAQ,IAAK;QAClBC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,QAAQ;QACtC,IAAIA,QAAQ,CAACG,MAAK,IAAK,GAAG,EAAE;UACxB,IAAI,CAACd,SAAQ,GAAIW,QAAQ,CAACZ,IAAI,CAACA,IAAI;QACvC;MAEA,CAAC,EACAgB,KAAK,CAAEC,KAAK,IAAK;QAChBJ,OAAO,CAACI,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACN,CAAC;IACDC,QAAQA,CAAA,EAAE;MACNC,YAAY,CAACC,KAAK,CAAC;MACnB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG;IACvB;EACJ,CAAC;EACDC,QAAQ,EAAC;IACPC,aAAaA,CAAA,EAAE;MACb,OAAO,IAAI,CAACvB,SAAS,CAACwB,MAAM,CAACC,GAAE,IAAK;QAClC,OAAOA,GAAG,CAACC,QAAQ,CAACC,OAAO,CAAC,IAAI,CAACxB,MAAM,IAAI,CAAC;MAChD,CAAC;IACH;EACA,CAAC;EAEDyB,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC1B,KAAI,GAAIgB,YAAY,CAACW,OAAO,CAAC,OAAO,CAAC;IAE1C,IAAI,CAAC5B,KAAI,GAAIiB,YAAY,CAACW,OAAO,CAAC,WAAW,CAAC;IAC9C,IAAI,CAAC,IAAI,CAAC5B,KAAK,EAAE;MACb,IAAI,CAACmB,OAAO,CAACC,IAAI,CAAC,GAAG;IACzB;IAEA,IAAI,CAAChB,YAAY,CAAC;EACpB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}