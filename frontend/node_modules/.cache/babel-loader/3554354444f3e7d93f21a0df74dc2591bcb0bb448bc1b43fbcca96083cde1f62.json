{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'sponsor_find',\n  data() {\n    return {\n      inf_list: [],\n      token: null,\n      roles: [],\n      campaigns: [],\n      ad_list: [],\n      ad_id: null,\n      i_id: null,\n      cam_id: null,\n      req_msg: '',\n      resp_message: '',\n      search: ''\n    };\n  },\n  methods: {\n    getCampaigns() {\n      const path = 'http://127.0.0.1:5000/api/CampaignResource';\n      axios.get(path, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status == 200) {\n          this.campaigns = response.data.data;\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    getInfluencers() {\n      const path = 'http://127.0.0.1:5000/api/InfluencerResource';\n      axios.get(path, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status == 200) {\n          this.inf_list = response.data.data;\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    logoutfn() {\n      localStorage.clear();\n      this.$router.push('/');\n    },\n    requestInfluencer() {\n      const path = 'http://127.0.0.1:5000/api/Ad_request';\n      axios.post(path, {\n        cam_id: this.cam_id,\n        i_id: this.i_id,\n        ad_id: this.ad_id,\n        req_msg: this.req_msg\n      }, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status === 201) {\n          this.resp_message = \"Request Sent\";\n          this.cam_id = null, this.i_id = null, this.ad_id = null, this.req_msg = '';\n          location.reload();\n        } else if (response.status === 200) {\n          this.resp_message = \"Already Request Sent in the past!\";\n        } else {\n          this.resp_message = \"error\";\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    viewAds() {\n      axios.get(`http://127.0.0.1:5000/api/AdResource/${this.cam_id}`, {\n        headers: {\n          Authorization: `${this.token}`\n        }\n      }).then(response => {\n        console.log(\"response block\", response);\n        if (response.status == 200) {\n          this.ad_list = response.data.data;\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n  },\n  computed: {\n    filtereditems() {\n      return this.inf_list.filter(inf => {\n        return inf.i_niche.indexOf(this.search) > -1;\n      });\n    }\n  },\n  created() {\n    this.token = localStorage.getItem('authToken');\n    if (!this.token) {\n      this.$router.push('/');\n    }\n    this.roles = localStorage.getItem('roles');\n    this.getCampaigns();\n    this.getInfluencers();\n  }\n};","map":{"version":3,"names":["axios","name","data","inf_list","token","roles","campaigns","ad_list","ad_id","i_id","cam_id","req_msg","resp_message","search","methods","getCampaigns","path","get","headers","Authorization","then","response","console","log","status","catch","error","getInfluencers","logoutfn","localStorage","clear","$router","push","requestInfluencer","post","location","reload","viewAds","computed","filtereditems","filter","inf","i_niche","indexOf","created","getItem"],"sources":["/Users/meena/Documents/learning/annamalai/Azure Test App/Collaboration-Hub-Web-Application/frontend/src/components/sponsor_find.vue"],"sourcesContent":["<template>\n\n  <div class=\"container mt-2\" style=\"padding: 100px\">\n    <form @submit.prevent=\"submitForm\">\n      <p>{{ this.resp_message}}</p>\n      <div class=\"row mt-2\">\n        <h5> List of Influencers </h5>\n        <div class=\"searchtable\">\n          <input type=\"text\" v-model=\"search\" >\n          <table class=\"table\" id=\"inf_list\">\n            <thead>\n                <tr>\n                <th scope=\"col\">Name</th>\n                <th scope=\"col\">Link</th>\n                <th scope=\"col\">Niche</th>\n                <th scope=\"col\">Followers</th>\n                <th scope=\"col\"></th> \n                </tr>\n            </thead>\n            <tbody>\n                    <tr v-for=\"(inf, index) in filtereditems\" :key=\"index\">\n                        <td>{{ inf.i_name }}</td>\n                        <td>{{ inf.i_link }}</td>\n                        <td>{{ inf.i_niche }}</td>\n                        <td>{{ inf.i_follow_no }}</td>\n                        <td>\n                        <router-link  class=\"btn btn-primary\" :to=\"{name: 'influencer_profile_with_id', params: {id: inf.i_id}}\">View</router-link> \n                        </td>\n                        <td>\n                          <input type=\"radio\" :id=\"'radio' + index\" :value=\"inf.i_id\" v-model=\"this.i_id\">\n                        </td>\n                      </tr>\n            </tbody>\n        </table>\n        </div>\n\n      </div>\n\n      <div class=\"row mt-3 \">\n      <h5> Select Campaign </h5>\n      <div class=\"col-6 \">\n        <select v-model=\"this.cam_id\" @change=\"viewAds\">\n          <option v-for=\"(cam, index) in campaigns\" :key=\"index\" :value= \"cam.cam_id\" >{{ cam.cam_name }}</option>\n        </select>\n      </div>\n \n      </div>\n      \n      <div class=\"row mt-3 \">\n      <h5> Select Ad </h5>\n      <div class=\"col-6 \" style=\"width: 150%;\">\n        <select v-model=\"this.ad_id\">\n          <option v-for=\"(ad, index) in ad_list\" :key=\"index\" :value= \"ad.ad_id\" >{{ ad.ad_name }}</option>\n        </select>\n      </div>\n \n      </div>\n\n\n      <div class=\"row mt-4\">\n        <h5> Enter Message for Influencers </h5>\n        <input type=\"text\" class=\"form-control\" v-model=\"this.req_msg\" required>\n      </div>\n\n      <div class=\"row mt-5\">\n        <div class=\"col-6 col-md-4\"><button class=\"btn btn-primary\"  @click=\"requestInfluencer\">Send Request</button> </div>\n        \n      </div>\n    </form>\n    </div>\n\n</template>\n<script>\nimport axios from 'axios';\n\nexport default {\n    name: 'sponsor_find',\n  data() {\n    return {\n      inf_list: [],\n      token: null,\n      roles:[],\n      campaigns:[],\n      ad_list:[],\n      ad_id:null,\n      i_id:null,\n      cam_id:null,\n      req_msg: '',\n      resp_message:'',\n      search:''\n        }\n  },\n  methods: {\n    getCampaigns() {\n      const path = 'http://127.0.0.1:5000/api/CampaignResource';\n      axios\n      .get(path,\n            {headers: {Authorization: `${this.token}`}})\n      .then((response) => {\n        console.log(\"response block\", response)\n        if (response.status == 200) {\n            this.campaigns = response.data.data;\n        }\n          \n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    getInfluencers() {\n      const path = 'http://127.0.0.1:5000/api/InfluencerResource';\n      axios\n      .get(path,\n            {headers: {Authorization: `${this.token}`}})\n      .then((response) => {\n        console.log(\"response block\", response)\n        if (response.status == 200) {\n            this.inf_list = response.data.data;\n        }\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    logoutfn(){\n        localStorage.clear()\n        this.$router.push('/')\n      },\n    requestInfluencer(){\n\n        const path = 'http://127.0.0.1:5000/api/Ad_request';\n      axios\n      .post(path,{\n        cam_id:this.cam_id,\n        i_id:this.i_id,\n        ad_id:this.ad_id,\n        req_msg:this.req_msg\n      },\n      {headers: {Authorization: `${this.token}`}})\n      .then((response) => {\n        console.log(\"response block\", response)\n        if (response.status === 201) {\n          this.resp_message=\"Request Sent\"\n          this.cam_id=null,\n          this.i_id=null,\n          this.ad_id=null,\n          this.req_msg=''\n          location.reload();\n\n        }\n        else if (response.status === 200) {\n          this.resp_message=\"Already Request Sent in the past!\"\n\n        }\n        else{\n          this.resp_message=\"error\"\n        }\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n\n      },\n    viewAds() {\n      axios\n      .get(`http://127.0.0.1:5000/api/AdResource/${this.cam_id}`,\n      {headers: {Authorization: `${this.token}`}}\n      )\n      .then((response) => {\n      console.log(\"response block\", response)\n      if (response.status == 200) {\n          this.ad_list = response.data.data;\n      }\n          \n      })\n      .catch((error) => {\n          console.error(error);\n      });\n  },    \n  },\n  computed:{\n    filtereditems(){\n      return this.inf_list.filter(inf => {\n        return inf.i_niche.indexOf(this.search) > -1\n    })\n  },\n  },\n\n  created() {\n    this.token = localStorage.getItem('authToken');\n    if (!this.token) {\n        this.$router.push('/')\n    }\n    this.roles = localStorage.getItem('roles');\n    this.getCampaigns();\n    this.getInfluencers() ;\n  },\n  \n}\n</script>\n<style lang=\"css\">\n    .form-popup {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: white;\n  padding: 20px;\n  border: 1px solid #ccc;\n}\n\n.table-container {\n  height: 300px; /* Set the desired height for the table container */\n  overflow-y: auto; /* Add vertical scroll if the table content exceeds the container height */\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}